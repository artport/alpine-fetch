{"version":3,"file":"alpine-fetch.min.modern.js","sources":["../src/alpine-fetch.js"],"sourcesContent":["['get', 'post', 'patch', 'put', 'delete'].forEach(verb => {\n    Alpine.magic(verb, () => {\n        return async (url, data = {}, format = 'json', options = {}) => {\n            let configuration = {\n                headers : {\n                    'Content-Type'     : 'application/json',\n                    'X-CSRF-TOKEN'     : document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content'),\n                    'X-Requested-With' : 'XMLHttpRequest',\n                }\n            };\n\n            configuration = verb === 'get' ? configuration : Object.assign(configuration, {\n                body        : JSON.stringify(Object.assign(data, { _method : verb })),\n                credentials : 'same-origin',\n                method      : 'post',\n            });\n\n            let response = await fetch(url, Object.assign(configuration, options));\n\n            if (! response.ok) return response;\n\n            switch (format) {\n                case 'blob' : return await response.blob();\n                case 'json' : return await response.json();\n                case 'text' : return await response.text();\n                default     : return response;\n            }\n        }\n    })\n});\n"],"names":["forEach","verb","Alpine","magic","async","url","data","format","options","configuration","headers","document","querySelector","getAttribute","Object","assign","body","JSON","stringify","_method","credentials","method","response","fetch","ok","blob","json","text"],"mappings":"AAAA,CAAC,MAAO,OAAQ,QAAS,MAAO,UAAUA,QAAQC,IAC9CC,OAAOC,MAAMF,EAAM,IACRG,MAAOC,EAAKC,EAAO,GAAIC,EAAS,OAAQC,EAAU,CAAA,KACrD,IAAIC,EAAgB,CAChBC,QAAU,CACN,eAAqB,mBACrB,eAAqBC,SAASC,cAAc,2BAA2BC,aAAa,WACpF,mBAAqB,mBAI7BJ,EAAyB,QAATR,EAAiBQ,EAAgBK,OAAOC,OAAON,EAAe,CAC1EO,KAAcC,KAAKC,UAAUJ,OAAOC,OAAOT,EAAM,CAAEa,QAAUlB,KAC7DmB,YAAc,cACdC,OAAc,SAGlB,IAAIC,QAAiBC,MAAMlB,EAAKS,OAAOC,OAAON,EAAeD,IAE7D,IAAMc,EAASE,GAAI,OAAOF,EAE1B,OAAQf,GACJ,IAAK,OAAS,aAAae,EAASG,OACpC,IAAK,OAAS,aAAaH,EAASI,OACpC,IAAK,OAAS,aAAaJ,EAASK,OACpC,QAAc,OAAOL,EACzB,EAEP"}