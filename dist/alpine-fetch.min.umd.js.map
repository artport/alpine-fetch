{"version":3,"file":"alpine-fetch.min.umd.js","sources":["../src/alpine-fetch.js"],"sourcesContent":["['get', 'post', 'patch', 'put', 'delete'].forEach(verb => {\n    Alpine.magic(verb, () => {\n        return async (url, data = {}, format = 'json', options = {}) => {\n            let configuration = {\n                headers : {\n                    'Content-Type'     : 'application/json',\n                    'X-CSRF-TOKEN'     : document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content'),\n                    'X-Requested-With' : 'XMLHttpRequest',\n                }\n            };\n\n            configuration = verb === 'get' ? configuration : Object.assign(configuration, {\n                body        : JSON.stringify(Object.assign(data, { _method : verb })),\n                credentials : 'same-origin',\n                method      : 'post',\n            });\n\n            let response = await fetch(url, Object.assign(configuration, options));\n\n            if (! response.ok) return response;\n\n            switch (format) {\n                case 'blob' : return await response.blob();\n                case 'json' : return await response.json();\n                case 'text' : return await response.text();\n                default     : return response;\n            }\n        }\n    })\n});\n"],"names":["forEach","verb","Alpine","magic","url","data","format","options","configuration","headers","document","querySelector","getAttribute","Object","assign","body","JSON","stringify","_method","credentials","method","Promise","resolve","fetch","then","response","ok","blob","json","text","e","reject"],"mappings":"6EAAA,CAAC,MAAO,OAAQ,QAAS,MAAO,UAAUA,QAAQ,SAAAC,GAC9CC,OAAOC,MAAMF,EAAM,WACf,OAAA,SAAcG,EAAKC,EAAWC,EAAiBC,QAAxB,IAAJF,IAAAA,EAAO,CAAE,QAAQ,IAANC,IAAAA,EAAS,aAAe,IAAPC,IAAAA,EAAU,CAAE,GAAK,IAC5D,IAAIC,EAAgB,CAChBC,QAAU,CACN,eAAqB,mBACrB,eAAqBC,SAASC,cAAc,2BAA2BC,aAAa,WACpF,mBAAqB,mBAQ1B,OAJHJ,EAAyB,QAATP,EAAiBO,EAAgBK,OAAOC,OAAON,EAAe,CAC1EO,KAAcC,KAAKC,UAAUJ,OAAOC,OAAOT,EAAM,CAAEa,QAAUjB,KAC7DkB,YAAc,cACdC,OAAc,SACfC,QAAAC,QAEkBC,MAAMnB,EAAKS,OAAOC,OAAON,EAAeD,KAASiB,KAAA,SAAlEC,GAEJ,IAAMA,EAASC,GAAI,OAAOD,EAE1B,OAAQnB,GACJ,IAAK,cAAMe,QAAAC,QAAgBG,EAASE,QACpC,IAAK,OAAM,OAAAN,QAAAC,QAAgBG,EAASG,QACpC,IAAK,OAAM,OAAAP,QAAAC,QAAgBG,EAASI,QACpC,QAAc,OAAOJ,EACxB,EACL,CAAC,MAAAK,GAAAT,OAAAA,QAAAU,OAAAD,EACL,CAAA,CAAA,EACJ"}